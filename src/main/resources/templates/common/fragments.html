<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:fragment="head">
    <meta charset="UTF-8">
    <title th:if="${title}!=null" th:text="${title}"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/customStyles.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

</head>
<!--    header-->
<header style="z-index: 1; background-color: white" id="header"  class="p-3 mb-3 border-bottom" th:fragment="header">
    <div class="container">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none">
                <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
            </a>

            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                <li><a href="/bestPosts" th:class="${title=='Лучшее'?'nav-link px-2 link-dark topBarItem fw-bold':'nav-link px-2 link-dark topBarItem'}">Лучшее</a></li>
                <li><a href="/newPosts" th:class="${title=='Новое'?'nav-link px-2 link-dark topBarItem fw-bold':'nav-link px-2 link-dark topBarItem'}">Новое</a></li>
                <li><a href="/followingPosts" th:class="${title=='Мои подписки'?'nav-link px-2 link-dark topBarItem fw-bold':'nav-link px-2 link-dark topBarItem'}">Мои подписки</a></li>
            </ul>
            <input type="hidden" id="user-existence" th:if="${user}">
            <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                <input type="search" class="form-control" placeholder="Search..." aria-label="Search">
            </form>

            <div class="dropdown text-end" sec:authorize="isAuthenticated()">
                <a href="/profile" class="d-block link-dark text-decoration-none dropdown-toggle" role="button" id="dropdownUser1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img th:src="${user==null||user.photoFileName==null}?'/staticImg/No-photo.png':'/img/'+${user.photoFileName}" alt="" width="32" height="32" class="rounded-circle">
                </a>
                    <ul class="dropdown-menu text-small" aria-labelledby="dropdownUser1">
                            <li><a class="dropdown-item" href="/newPost">Новый пост</a></li>
                            <li><a class="dropdown-item" href="/profile">Профиль</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="/logout">Выйти</a></li>
                    </ul>
            </div>
            <a sec:authorize="!isAuthenticated()" href="/login" type="button" class="btn btn-light">Войти</a>
        </div>
    </div>
</header>
<!--   end header-->
<body>
</body>
<script th:fragment="bottomScript" src="/js/scripts.js"></script>
</html>